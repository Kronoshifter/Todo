<mat-card matRipple
          [matRippleDisabled]="true"
          appearance="outlined"
          class="task-card"
          [ngClass]="{'disabled': task.completed}">
  <mat-checkbox class="checkbox"
                [ngClass]="{'strike-through': task.completed}"
                [(ngModel)]="task.completed"
                (change)="completeChange.emit(task)"
                (click)="$event.stopImmediatePropagation()"
                (mousedown)="$event.stopImmediatePropagation()">
    {{ task.title }}
  </mat-checkbox>
  <mat-chip-set class="chips">
    @if (task.dueDate) {
      <mat-chip-row (removed)="task.dueDate = null"
                    (click)="setDueDate(task); $event.stopImmediatePropagation()"
                    (mousedown)="$event.stopImmediatePropagation()"
                    matTooltip="Due date">
        <fa-icon matChipAvatar [icon]="faCalendar"></fa-icon>
        {{ dueDate | date: 'shortDate' }}
        <button matChipRemove>
          <fa-icon [icon]="faCircleXmark"></fa-icon>
        </button>
      </mat-chip-row>
    } @else {
      <mat-chip-row (click)="setDueDate(task); $event.stopImmediatePropagation()">
        <fa-icon matChipAvatar [icon]="faCalendarPlus"></fa-icon>
                Add due date
      </mat-chip-row>
    }
  </mat-chip-set>
  <fa-icon class="angle-decorator" [icon]="faAngleRight" size="lg"></fa-icon>
</mat-card>
